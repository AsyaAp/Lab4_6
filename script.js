// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–≥—Ä—ã
const TOTAL_DAYS = 3;
const CUSTOMERS_PER_DAY = 3;
const MAX_INGREDIENTS = 7;

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
let currentDay = 1;
let currentCustomerIndex = 0;
let correctDrinks = 0;
let specialDrinks = 0;
let storiesHeard = 0;
let currentDialogStep = 0;
let currentDialogue = [];
let drinkServed = false;
let currentCustomer = null;
let currentDrink = [];
let currentOrder = null;
let currentPreparation = "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π";
let gameState = "bartender_intro";
let dayCorrectDrinks = 0;
let usedCharactersToday = [];
let dayCustomers = [];
let customerState = "normal";
let orderType = "specific";
let lastDrinkSuccess = false;

// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
const characters = {
    jill: {
        name: "–î–∂–∏–ª–ª",
        color: "#4cc9f0",
        dayDrinks: {
            1: "–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω",
            2: "–ë—Ä–µ–Ω–¥–∏", 
            3: "–ü—É–Ω–∫—Ç–∏—Ä"
        },
        dialogues: {
            greeting: [
                "–ë–∞—Ä–º–µ–Ω: –ü—Ä–∏–≤–µ—Ç, –î–∂–∏–ª–ª! –ö–∞–∫ —Ç–≤–æ–∏ –¥–µ–ª–∞?",
                "–î–∂–∏–ª–ª: –ü—Ä–∏–≤–µ—Ç... –î–µ–Ω—å –±—ã–ª —Ç—è–∂–µ–ª—ã–º, –∫–∞–∫ –æ–±—ã—á–Ω–æ.",
                "–ë–∞—Ä–º–µ–Ω: –ß—Ç–æ-–Ω–∏–±—É–¥—å –ø–æ–¥–Ω–∏–º–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?"
            ],
            vagueOrder: "–î–∂–∏–ª–ª: –ú–Ω–µ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –∫—Ä–µ–ø–∫–æ–µ...",
            specificOrder: "–î–∂–∏–ª–ª: –î–∞–π –º–Ω–µ [drink], –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.",
            correct: [
                "–î–∂–∏–ª–ª: –û—Ç–ª–∏—á–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫! –ö–∞–∫ —Ä–∞–∑ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.",
                "–î–∂–∏–ª–ª: –í–∫—É—Å–Ω–æ... –¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–Ω–∞–µ—à—å —Å–≤–æ–µ –¥–µ–ª–æ.",
                "–î–∂–∏–ª–ª: –ò–¥–µ–∞–ª—å–Ω–æ! –≠—Ç–æ—Ç –≤–∫—É—Å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –º–Ω–µ –∫–æ–µ-—á—Ç–æ...",
                "–ë–∞—Ä–º–µ–Ω: –†–∞–¥, —á—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å. –í—Å–µ–≥–¥–∞ —Å—Ç–∞—Ä–∞—é—Å—å –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤."
            ],
            special: [
                "–î–∂–∏–ª–ª: –í–∞—É! –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –º–Ω–µ –±—ã–ª–æ –Ω—É–∂–Ω–æ! –¢—ã —Å–ª–æ–≤–Ω–æ —á–∏—Ç–∞–µ—à—å –º–æ–∏ –º—ã—Å–ª–∏.",
                "–î–∂–∏–ª–ª: –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –≠—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –º–æ–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.",
                "–î–∂–∏–ª–ª: –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Ç–µ—Ä! –≠—Ç–æ –ª—É—á—à–µ–µ, —á—Ç–æ —è –ø–∏–ª –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ.",
                "–ë–∞—Ä–º–µ–Ω: –°–ø–∞—Å–∏–±–æ –∑–∞ –≤—ã—Å–æ–∫—É—é –æ—Ü–µ–Ω–∫—É! –í—Å–µ–≥–¥–∞ –ø—Ä–∏—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç—ã —Ü–µ–Ω—è—Ç —Ä–∞–±–æ—Ç—É."
            ],
            wrong: [
                "–î–∂–∏–ª–ª: –≠–º... –≠—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ —è —Ö–æ—Ç–µ–ª.",
                "–î–∂–∏–ª–ª: –•–º... –î—É–º–∞—é, —è –∑–∞–∫–∞–∑–∞–ª –¥—Ä—É–≥–æ–µ.",
                "–î–∂–∏–ª–ª: –ù–µ —Ç–æ... –ù–æ –ª–∞–¥–Ω–æ, –≤—ã–ø—å—é –∏ —ç—Ç–æ.",
                "–ë–∞—Ä–º–µ–Ω: –ò–∑–≤–∏–Ω–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—é—Å—å."
            ],
            stories: {
                1: "–î–∂–∏–ª–ª: –ó–Ω–∞–µ—à—å, —è —Ä–∞–Ω—å—à–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏... –ù–æ –æ–¥–Ω–∞–∂–¥—ã —è —É–≤–∏–¥–µ–ª–∞, —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç —Å –ª—é–¥—å–º–∏, –∏ –Ω–µ —Å–º–æ–≥–ª–∞ –±–æ–ª—å—à–µ —Ç–∞–º –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è.",
                2: "–î–∂–∏–ª–ª: –ú—ã —Å –ø–æ–¥—Ä—É–≥–æ–π –º–µ—á—Ç–∞–ª–∏ —É–µ—Ö–∞—Ç—å –æ—Ç—Å—é–¥–∞, –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∂–∏–∑–Ω—å. –ù–æ –æ–Ω–∞ –∏—Å—á–µ–∑–ª–∞ –≤ –æ–¥–∏–Ω –¥–µ–Ω—å. –ö–∞–∫ –±—É–¥—Ç–æ –µ—ë –∏ –Ω–µ –±—ã–ª–æ.",
                3: "–î–∂–∏–ª–ª: –ò–Ω–æ–≥–¥–∞ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥ –≤—ã—Å–∞—Å—ã–≤–∞–µ—Ç –∏–∑ —Ç–µ–±—è –≤—Å—é –¥—É—à—É... –ù–æ —Ç–≤–æ–π –±–∞—Ä - –æ–¥–Ω–æ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö –º–µ—Å—Ç, –≥–¥–µ –º–æ–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å."
            },
            followUp: {
                1: "–ë–∞—Ä–º–µ–Ω: –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å? –ó–≤—É—á–∏—Ç –æ–ø–∞—Å–Ω–æ...",
                2: "–ë–∞—Ä–º–µ–Ω: –¢–≤–æ—è –ø–æ–¥—Ä—É–≥–∞... —á—Ç–æ —Å –Ω–µ–π —Å–ª—É—á–∏–ª–æ—Å—å?",
                3: "–ë–∞—Ä–º–µ–Ω: –≠—Ç–æ—Ç –≥–æ—Ä–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—è–∂–µ–ª—ã–º..."
            },
            response: {
                1: "–î–∂–∏–ª–ª: –û–ø–∞—Å–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è... –õ—É—á—à–µ –Ω–µ –∑–Ω–∞—Ç—å.",
                2: "–î–∂–∏–ª–ª: –ù–µ –∑–Ω–∞—é... –í —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –ª—é–¥–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å—á–µ–∑–∞—é—Ç.",
                3: "–î–∂–∏–ª–ª: –î–∞... –ù–æ —Ç–∞–∫–∏–µ –º–µ—Å—Ç–∞, –∫–∞–∫ —Ç–≤–æ–π –±–∞—Ä, –ø–æ–º–æ–≥–∞—é—Ç –≤—ã–∂–∏—Ç—å."
            },
            goodbye: "–î–∂–∏–ª–ª: –°–ø–∞—Å–∏–±–æ –∑–∞ –±–µ—Å–µ–¥—É... –ú–Ω–µ –Ω—É–∂–Ω–æ –∏–¥—Ç–∏.",
            bartenderGoodbye: "–ë–∞—Ä–º–µ–Ω: –ó–∞—Ö–æ–¥–∏ –µ—â—ë, –î–∂–∏–ª–ª. –í—Å–µ–≥–¥–∞ —Ä–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å.",
            bartender_thoughts: {
                1: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∫–ª–∏–µ–Ω—Ç–∫–∞... –ö–∞–∂–µ—Ç—Å—è, —É –Ω–µ–µ –Ω–µ–ø—Ä–æ—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è. –†–∞–±–æ—Ç–∞ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –æ—Å—Ç–∞–≤–∏–ª–∞ —à—Ä–∞–º—ã.",
                2: "–î–∂–∏–ª–ª —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å... –ï–µ –∏—Å—Ç–æ—Ä–∏—è –æ –ø—Ä–æ–ø–∞–≤—à–µ–π –ø–æ–¥—Ä—É–≥–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è. –í —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –ª—é–¥–∏ –∏—Å—á–µ–∑–∞—é—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
                3: "–î–∂–∏–ª–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º. –ü—Ä–∏—è—Ç–Ω–æ –≤–∏–¥–µ—Ç—å, —á—Ç–æ –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç –∑–¥–µ—Å—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —É—Ç–µ—à–µ–Ω–∏–µ."
            },
            bartender_wrong_thoughts: [
                "–ù–µ–ª–æ–≤–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è... –ù–∞–¥–µ—é—Å—å, –î–∂–∏–ª–ª –Ω–µ —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª–∞—Å—å —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ.",
                "–ñ–∞–ª—å, —á—Ç–æ –Ω–µ —É–≥–∞–¥–∞–ª —Å –Ω–∞–ø–∏—Ç–∫–æ–º –¥–ª—è –î–∂–∏–ª–ª. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ª—É—á—à–µ.",
                "–î–∂–∏–ª–ª —É—à–ª–∞ –Ω–µ–¥–æ–≤–æ–ª—å–Ω–æ–π... –ù–∞–¥–æ –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∫ –µ—ë –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º."
            ]
        }
    },
    dorothy: {
        name: "–î–æ—Ä–æ—Ç–∏",
        color: "#f72585",
        dayDrinks: {
            1: "–ü—É–Ω–∫—Ç–∏—Ä",
            2: "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ",
            3: "–ú–∞—Ä—Å"
        },
        dialogues: {
            greeting: [
                "–ë–∞—Ä–º–µ–Ω: –ü—Ä–∏–≤–µ—Ç, –î–æ—Ä–æ—Ç–∏! –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?",
                "–î–æ—Ä–æ—Ç–∏: –ü—Ä–∏–≤–µ—Ç–∏–∫! –°–µ–≥–æ–¥–Ω—è –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!",
                "–ë–∞—Ä–º–µ–Ω: –†–∞–¥ —Å–ª—ã—à–∞—Ç—å! –ß–µ–º —É–≥–æ—Å—Ç–∏–º?"
            ],
            vagueOrder: "–î–æ—Ä–æ—Ç–∏: –•–æ—á—É —á–µ–≥–æ-–Ω–∏–±—É–¥—å —Å–ª–∞–¥–µ–Ω—å–∫–æ–≥–æ!",
            specificOrder: "–î–æ—Ä–æ—Ç–∏: –ú–Ω–µ [drink], –ø–æ–∂–∞–ª—É–π—Å—Ç–∞!",
            correct: [
                "–î–æ—Ä–æ—Ç–∏: –û –¥–∞! –ò–º–µ–Ω–Ω–æ —ç—Ç–æ —è –∏ —Ö–æ—Ç–µ–ª–∞!",
                "–î–æ—Ä–æ—Ç–∏: –í–∫—É—Å–Ω—è—Ç–∏–Ω–∞! –¢—ã –ª—É—á—à–∏–π –±–∞—Ä–º–µ–Ω –≤ –≥–æ—Ä–æ–¥–µ!",
                "–î–æ—Ä–æ—Ç–∏: –°—É–ø–µ—Ä! –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø–æ–¥–Ω—è–ª–æ—Å—å!",
                "–ë–∞—Ä–º–µ–Ω: –í—Å–µ–≥–¥–∞ –ø—Ä–∏—è—Ç–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å –¥–ª—è —Ç–∞–∫–∏—Ö –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤!"
            ],
            special: [
                "–î–æ—Ä–æ—Ç–∏: –ë–æ–∂–µ! –≠—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –¢—ã –ø—Ä–æ—Å—Ç–æ –≤–æ–ª—à–µ–±–Ω–∏–∫!",
                "–î–æ—Ä–æ—Ç–∏: –û–ú–ì! –≠—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ –ø—Ä–æ—Å—Ç–æ –±–æ–º–±–∞! –ö–∞–∫ —Ç—ã —É–≥–∞–¥–∞–ª?",
                "–î–æ—Ä–æ—Ç–∏: –í–∞—É! –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–∞–∫–æ–≥–æ –¥–Ω—è –∫–∞–∫ —Å–µ–≥–æ–¥–Ω—è!",
                "–ë–∞—Ä–º–µ–Ω: –í–∞—à–∞ —É–ª—ã–±–∫–∞ - –ª—É—á—à–∞—è –Ω–∞–≥—Ä–∞–¥–∞ –¥–ª—è –±–∞—Ä–º–µ–Ω–∞!"
            ],
            wrong: [
                "–î–æ—Ä–æ—Ç–∏: –≠-—ç-—ç... –≠—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ —è –æ–∂–∏–¥–∞–ª–∞.",
                "–î–æ—Ä–æ—Ç–∏: –•–º... –î—É–º–∞—é, —è —Ö–æ—Ç–µ–ª–∞ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ.",
                "–î–æ—Ä–æ—Ç–∏: –ù–µ —Å–æ–≤—Å–µ–º... –ù–æ —Å–ø–∞—Å–∏–±–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ.",
                "–ë–∞—Ä–º–µ–Ω: –ü—Ä–æ—Å—Ç–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª—é —á—Ç–æ-—Ç–æ –ø–æ–ª—É—á—à–µ."
            ],
            stories: {
                1: "–î–æ—Ä–æ—Ç–∏: –Ø —Ä–∞–±–æ—Ç–∞—é —Å—Ç—Ä–∏–º–µ—Ä–æ–º –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏... –õ—é–¥–∏ –¥—É–º–∞—é—Ç, —á—Ç–æ —ç—Ç–æ –ª–µ–≥–∫–∏–µ –¥–µ–Ω—å–≥–∏, –Ω–æ –æ–Ω–∏ –Ω–µ –≤–∏–¥—è—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ –∫–∞–¥—Ä–æ–º.",
                2: "–î–æ—Ä–æ—Ç–∏: –ö–æ–≥–¥–∞-—Ç–æ —è –º–µ—á—Ç–∞–ª–∞ —Å—Ç–∞—Ç—å –ø–µ–≤–∏—Ü–µ–π... –ù–æ –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –∏—Å–∫—É—Å—Å—Ç–≤—É –Ω–µ—Ç –º–µ—Å—Ç–∞, —Ç–æ–ª—å–∫–æ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ.",
                3: "–î–æ—Ä–æ—Ç–∏: –ó–Ω–∞–µ—à—å, —Å–∞–º–∞—è —Å—Ç—Ä–∞—à–Ω–∞—è –≤–µ—â—å –≤ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–µ - —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç–µ–±—è –æ–∫—Ä—É–∂–∞—é—Ç —Ç—ã—Å—è—á–∏ –ª—é–¥–µ–π, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç —Ç–µ–±—è –Ω–∞—Å—Ç–æ—è—â—É—é."
            },
            followUp: {
                1: "–ë–∞—Ä–º–µ–Ω: –°—Ç—Ä–∏–º–∏–Ω–≥ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏? –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.",
                2: "–ë–∞—Ä–º–µ–Ω: –ê –ø–æ—á–µ–º—É –Ω–µ —Å—Ç–∞–ª–∞ –ø–µ–≤–∏—Ü–µ–π?",
                3: "–ë–∞—Ä–º–µ–Ω: –û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ –≤ —Ç–æ–ª–ø–µ... –∑–Ω–∞–∫–æ–º–æ–µ —á—É–≤—Å—Ç–≤–æ."
            },
            response: {
                1: "–î–æ—Ä–æ—Ç–∏: –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –Ω–æ —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω–æ... –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω—É–∂–Ω–æ –±—ã—Ç—å '–Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–µ'.",
                2: "–î–æ—Ä–æ—Ç–∏: –í —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ —É–º–µ—Ä–ª–æ. –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ—Ä—Ü–∏—è.",
                3: "–î–æ—Ä–æ—Ç–∏: –î–∞... –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –≤—Å–µ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Ç–≤–æ–π –æ–±—Ä–∞–∑, –∞ –Ω–µ —Ç–µ–±—è."
            },
            goodbye: "–î–æ—Ä–æ—Ç–∏: –õ–∞–¥–Ω–æ, –Ω—É–∂–Ω–æ –±–µ–∂–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∏–º! –ü–æ–∫–∞!",
            bartenderGoodbye: "–ë–∞—Ä–º–µ–Ω: –£–¥–∞—á–∏ —Å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–µ–π! –ó–∞–≥–ª—è–¥—ã–≤–∞–π –µ—â—ë!",
            bartender_thoughts: {
                1: "–î–æ—Ä–æ—Ç–∏... –ó–∞ –µ–µ —è—Ä–∫–æ–π –≤–Ω–µ—à–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–æ–∫–∞—è –¥—É—à–∞. –°—Ç—Ä–∏–º–∏–Ω–≥ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ - –Ω–µ —Ç–∞–∫–∞—è —É–∂ –ø—Ä–æ—Å—Ç–∞—è —Ä–∞–±–æ—Ç–∞.",
                2: "–î–æ—Ä–æ—Ç–∏ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å. –ï–µ –º–µ—á—Ç—ã –æ –º—É–∑—ã–∫–µ... –ñ–∞–ª—å, —á—Ç–æ –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –Ω–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –∏—Å–∫—É—Å—Å—Ç–≤—É.",
                3: "–î–æ—Ä–æ—Ç–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –æ—Ç–∫—Ä—ã—Ç–æ–π. –ö–∞–∂–µ—Ç—Å—è, –æ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–æ–≤–µ—Ä—è—Ç—å —ç—Ç–æ–º—É –º–µ—Å—Ç—É... –∏ –º–Ω–µ."
            },
            bartender_wrong_thoughts: [
                "–î–æ—Ä–æ—Ç–∏ —É—à–ª–∞ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–Ω–æ–π... –ù–∞–¥–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –µ—ë –≤–∫—É—Å—ã.",
                "–ù–µ —Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ –¥–ª—è –î–æ—Ä–æ—Ç–∏. –û–Ω–∞ —Ç–∞–∫–∞—è –∂–∏–∑–Ω–µ—Ä–∞–¥–æ—Å—Ç–Ω–∞—è, –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –ª—É—á—à–µ–≥–æ.",
                "–ñ–∞–ª—å, –Ω–µ —É–≥–æ–¥–∏–ª –î–æ—Ä–æ—Ç–∏. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª—é —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ."
            ]
        }
    },
    alma: {
        name: "–ê–ª—å–º–∞",
        color: "#7209b7",
        dayDrinks: {
            1: "–ì–æ—Ä—è—á–∏–π –±—Ä–µ–Ω–¥–∏",
            2: "–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω",
            3: "–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç"
        },
        dialogues: {
            greeting: [
                "–ë–∞—Ä–º–µ–Ω: –î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä, –ê–ª—å–º–∞. –ö–∞–∫ –ø—Ä–æ—à–µ–ª –¥–µ–Ω—å?",
                "–ê–ª—å–º–∞: –í–µ—á–µ—Ä... –î–µ–Ω—å –±—ã–ª –¥–æ–ª–≥–∏–º.",
                "–ë–∞—Ä–º–µ–Ω: –ú–æ–∂–µ—Ç, —á—Ç–æ-–Ω–∏–±—É–¥—å –æ—Å–≤–µ–∂–∞—é—â–µ–µ?"
            ],
            vagueOrder: "–ê–ª—å–º–∞: –î–∞–π—Ç–µ –º–Ω–µ —á—Ç–æ-–Ω–∏–±—É–¥—å —Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µ...",
            specificOrder: "–ê–ª—å–º–∞: –Ø –±—É–¥—É [drink].",
            correct: [
                "–ê–ª—å–º–∞: –î–∞... –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –º–Ω–µ –∏ –Ω—É–∂–Ω–æ.",
                "–ê–ª—å–º–∞: –•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä... –°–ø–∞—Å–∏–±–æ.",
                "–ê–ª—å–º–∞: –ü–æ–¥—Ö–æ–¥—è—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫ –¥–ª—è —Ç–∞–∫–æ–≥–æ –¥–Ω—è...",
                "–ë–∞—Ä–º–µ–Ω: –†–∞–¥, —á—Ç–æ —Å–º–æ–≥ –ø–æ–º–æ—á—å. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å, –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—Ç—Å—è –æ—Ç–¥–æ—Ö–Ω—É—Ç—å."
            ],
            special: [
                "–ê–ª—å–º–∞: –ò–¥–µ–∞–ª—å–Ω–æ... –¢—ã —Å–ª–æ–≤–Ω–æ –∑–Ω–∞–ª, —á—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ.",
                "–ê–ª—å–º–∞: –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ... –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—à—å.",
                "–ê–ª—å–º–∞: –ü–æ—Ç—Ä—è—Å–∞—é—â–µ... –ù–∞–ø–∏—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ª–µ—á–∏—Ç –¥—É—à—É.",
                "–ë–∞—Ä–º–µ–Ω: –í–∞—à–∏ —Å–ª–æ–≤–∞ –º–Ω–æ–≥–æ–µ –∑–Ω–∞—á–∞—Ç –¥–ª—è –º–µ–Ω—è. –°–ø–∞—Å–∏–±–æ."
            ],
            wrong: [
                "–ê–ª—å–º–∞: –ù–µ —Ç–æ... –ù–æ –Ω–µ –≤–∞–∂–Ω–æ.",
                "–ê–ª—å–º–∞: –î—É–º–∞—é, —è –æ—à–∏–±–ª–∞—Å—å –≤ –≤—ã–±–æ—Ä–µ...",
                "–ê–ª—å–º–∞: –ù–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω–∏–º–∞—é —ç—Ç–æ—Ç –≤–∫—É—Å...",
                "–ë–∞—Ä–º–µ–Ω: –ü—Ä–∏–Ω–æ—à—É –∏–∑–≤–∏–Ω–µ–Ω–∏—è. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ —É—á—Ç—É –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è."
            ],
            stories: {
                1: "–ê–ª—å–º–∞: –Ø –±—ã–ª–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞ –æ–∫—Ä–∞–∏–Ω–∞—Ö —Å–∏—Å—Ç–µ–º—ã... –í–∏–¥–µ–ª–∞ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫—Ç–æ –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å.",
                2: "–ê–ª—å–º–∞: –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ —É–Ω–∏—á—Ç–æ–∂–∏–ª–∏ –º–æ—é –ø–ª–∞–Ω–µ—Ç—É... –û–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ '–ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º', –Ω–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∂–∞–¥–Ω–æ—Å—Ç—å.",
                3: "–ê–ª—å–º–∞: –ò–Ω–æ–≥–¥–∞ —è –ø—Ä–æ—Å—ã–ø–∞—é—Å—å –Ω–æ—á—å—é –∏ —Å–ª—ã—à—É –≥–æ–ª–æ—Å–∞ —Ç–µ—Ö, –∫–æ–≥–æ –º—ã –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–∞–º, —Å—Ä–µ–¥–∏ –∑–≤–µ–∑–¥..."
            },
            followUp: {
                1: "–ë–∞—Ä–º–µ–Ω: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å... —ç—Ç–æ –∑–≤—É—á–∏—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ.",
                2: "–ë–∞—Ä–º–µ–Ω: –¢–≤–æ—è –ø–ª–∞–Ω–µ—Ç–∞... —á—Ç–æ —Å –Ω–µ–π —Å–ª—É—á–∏–ª–æ—Å—å?",
                3: "–ë–∞—Ä–º–µ–Ω: –ó–≤–µ–∑–¥—ã... –æ–Ω–∏ –∫–∞–∂—É—Ç—Å—è —Ç–∞–∫–∏–º–∏ –¥–∞–ª–µ–∫–∏–º–∏ –æ—Ç—Å—é–¥–∞."
            },
            response: {
                1: "–ê–ª—å–º–∞: –ó–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ –∏ –æ–ø–∞—Å–Ω–æ... –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–µ—â–∏ –ª—É—á—à–µ –Ω–µ –≤–∏–¥–µ—Ç—å.",
                2: "–ê–ª—å–º–∞: –û–Ω–∏ –≤—ã–∫–∞—á–∞–ª–∏ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –æ—Å—Ç–∞–≤–∏–ª–∏ –ø—É—Å—Ç—ã–Ω—é... –í–æ –∏–º—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.",
                3: "–ê–ª—å–º–∞: –î–∞... –Ω–æ –∏–Ω–æ–≥–¥–∞ –æ–Ω–∏ –∫–∞–∂—É—Ç—Å—è –±–ª–∏–∂–µ, —á–µ–º —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥."
            },
            goodbye: "–ê–ª—å–º–∞: –ú–Ω–µ –ø–æ—Ä–∞... –°–ø–∞—Å–∏–±–æ.",
            bartenderGoodbye: "–ë–∞—Ä–º–µ–Ω: –ë–µ—Ä–µ–≥–∏ —Å–µ–±—è, –ê–ª—å–º–∞. –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è.",
            bartender_thoughts: {
                1: "–ê–ª—å–º–∞... –ó–∞–≥–∞–¥–æ—á–Ω–∞—è –∂–µ–Ω—â–∏–Ω–∞ —Å —Ç—è–∂–µ–ª—ã–º –ø—Ä–æ—à–ª–æ–º. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –æ–∫—Ä–∞–∏–Ω–∞—Ö —Å–∏—Å—Ç–µ–º—ã - —ç—Ç–æ –∑–≤—É—á–∏—Ç... –æ–ø–∞—Å–Ω–æ.",
                2: "–ê–ª—å–º–∞ –≤–µ—Ä–Ω—É–ª–∞—Å—å. –ï–µ –∏—Å—Ç–æ—Ä–∏—è –æ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω–æ–π –ø–ª–∞–Ω–µ—Ç–µ... –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –∑–Ω–∞—é—Ç –≥—Ä–∞–Ω–∏—Ü.",
                3: "–ê–ª—å–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ –∑–∞–∫—Ä—ã—Ç–æ–π. –ï–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ –∑–≤–µ–∑–¥–∞—Ö –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –Ω–∞—à–µ–º –º–µ—Å—Ç–µ –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π."
            },
            bartender_wrong_thoughts: [
                "–ê–ª—å–º–∞ –ø—Ä–∏–Ω—è–ª–∞ –Ω–∞–ø–∏—Ç–æ–∫ —Å—Ç–æ–∏—á–µ—Å–∫–∏, –Ω–æ –±—ã–ª–æ –≤–∏–¥–Ω–æ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ...",
                "–ù–µ —É–≥–∞–¥–∞–ª —Å –≤—ã–±–æ—Ä–æ–º –¥–ª—è –ê–ª—å–º—ã. –ï—ë –Ω–µ–ø—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å.",
                "–ê–ª—å–º–∞ —É—à–ª–∞ –º–æ–ª—á–∞... –ù–∞–≤–µ—Ä–Ω–æ–µ, —è –æ—à–∏–±—Å—è —Å –Ω–∞–ø–∏—Ç–∫–æ–º."
            ]
        }
    },
    stella: {
        name: "–°—Ç–µ–ª–ª–∞",
        color: "#f8961e",
        dayDrinks: {
            1: "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ",
            2: "–ú–∞—Ä—Å",
            3: "–ü—É–Ω–∫—Ç–∏—Ä"
        },
        dialogues: {
            greeting: [
                "–ë–∞—Ä–º–µ–Ω: –ü—Ä–∏–≤–µ—Ç, –°—Ç–µ–ª–ª–∞! –ö–∞–∫ —Ç—ã —Å–µ–≥–æ–¥–Ω—è?",
                "–°—Ç–µ–ª–ª–∞: –ü—Ä–∏–≤–µ—Ç! –û—Ç–ª–∏—á–Ω–æ, –∫–∞–∫ –≤—Å–µ–≥–¥–∞!",
                "–ë–∞—Ä–º–µ–Ω: –ß—Ç–æ –ø–æ—Ä–∞–¥—É–µ–º —Å–µ–≥–æ–¥–Ω—è?"
            ],
            vagueOrder: "–°—Ç–µ–ª–ª–∞: –•–æ—á—É —á–µ–≥–æ-–Ω–∏–±—É–¥—å –≤–µ—Å–µ–ª–æ–≥–æ –∏ —è—Ä–∫–æ–≥–æ!",
            specificOrder: "–°—Ç–µ–ª–ª–∞: –ú–æ–∂–Ω–æ –º–Ω–µ [drink]?",
            correct: [
                "–°—Ç–µ–ª–ª–∞: –í–∫—É—Å–Ω–æ! –ö–∞–∫ —è –∏ –ª—é–±–∏–ª–∞!",
                "–°—Ç–µ–ªla: –û—Ç–ª–∏—á–Ω–æ! –°–ª–∞–¥–∫–æ–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ!",
                "–°—Ç–µ–ª–ª–∞: –°—É–ø–µ—Ä! –ò–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π –≤–∫—É—Å —è —Ö–æ—Ç–µ–ª–∞!",
                "–ë–∞—Ä–º–µ–Ω: –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –≤–∏–¥–µ—Ç—å –≤–∞—à—É —É–ª—ã–±–∫—É!"
            ],
            special: [
                "–°—Ç–µ–ª–ª–∞: –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –≠—Ç–æ —Å–∞–º—ã–π –ª—É—á—à–∏–π –Ω–∞–ø–∏—Ç–æ–∫ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏!",
                "–°—Ç–µ–ª–ª–∞: –í–∞—É! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —Ö—É–¥–æ–∂–Ω–∏–∫! –≠—Ç–æ—Ç –≤–∫—É—Å... –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π!",
                "–°—Ç–µ–ª–ª–∞: –û –¥–∞! –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è!",
                "–ë–∞—Ä–º–µ–Ω: –¢–∞–∫–∏–µ –æ—Ç–∑—ã–≤—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—Ç –Ω–∞ –Ω–æ–≤—ã–µ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã!"
            ],
            wrong: [
                "–°—Ç–µ–ª–ª–∞: –≠-—ç-—ç... –ù–µ —Å–æ–≤—Å–µ–º —Å–ª–∞–¥–∫–æ...",
                "–°—Ç–µ–ª–ª–∞: –•–º... –î—É–º–∞–ª–∞, –±—É–¥–µ—Ç –ø–æ—Å–ª–∞—â–µ.",
                "–°—Ç–µ–ª–ª–∞: –ù–µ –º–æ–π –≤–∫—É—Å... –ò–∑–≤–∏–Ω–∏.",
                "–ë–∞—Ä–º–µ–Ω: –ü–æ—Å—Ç–∞—Ä–∞—é—Å—å —É—á–µ—Å—Ç—å –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑."
            ],
            stories: {
                1: "–°—Ç–µ–ª–ª–∞: –Ø –≤—ã—Ä–æ—Å–ª–∞ –≤ –æ–¥–Ω–æ–º –∏–∑ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤... –ú—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–µ–ª–∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Å–æ–ª–Ω—Ü–∞, —Ç–æ–ª—å–∫–æ –≥–æ–ª–æ–≥—Ä–∞–º–º—ã.",
                2: "–°—Ç–µ–ª–ª–∞: –ú–æ–∏ —Ä–æ–¥–∏—Ç–µ–ª–∏ –ø—Ä–æ–¥–∞–ª–∏ —Å–≤–æ–∏ –¥—É—à–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã –¥–∞—Ç—å –º–Ω–µ '–ª—É—á—à—É—é –∂–∏–∑–Ω—å'... –ù–æ —á—Ç–æ –≤ —ç—Ç–æ–º –ª—É—á—à–µ–≥–æ?",
                3: "–°—Ç–µ–ª–ª–∞: –ò–Ω–æ–≥–¥–∞ —è –∫—Ä–∞–¥—É—Å—å –Ω–∞ –∫—Ä—ã—à–∏ –Ω–µ–±–æ—Å–∫—Ä–µ–±–æ–≤ –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∑–≤–µ–∑–¥—ã... –û–Ω–∏ –∫–∞–∂—É—Ç—Å—è —Ç–∞–∫–∏–º–∏ –¥–∞–ª–µ–∫–∏–º–∏."
            },
            followUp: {
                1: "–ë–∞—Ä–º–µ–Ω: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞... –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫–æ–≤–æ —ç—Ç–æ?",
                2: "–ë–∞—Ä–º–µ–Ω: –ê —Ç—ã —Ö–æ—Ç–µ–ª–∞ –±—ã –¥—Ä—É–≥—É—é –∂–∏–∑–Ω—å?",
                3: "–ë–∞—Ä–º–µ–Ω: –ó–≤–µ–∑–¥—ã —Å –∫—Ä—ã—à... –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Å–∏–≤–æ."
            },
            response: {
                1: "–°—Ç–µ–ª–ª–∞: –ö–∞–∫ –≤ –∞–∫–≤–∞—Ä–∏—É–º–µ... —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –≤–æ–¥—ã - –±–µ—Ç–æ–Ω –∏ –Ω–µ–æ–Ω.",
                2: "–°—Ç–µ–ª–ª–∞: –ò–Ω–æ–≥–¥–∞... –Ω–æ —ç—Ç–∞ –∂–∏–∑–Ω—å - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è, —á—Ç–æ —è –∑–Ω–∞—é.",
                3: "–°—Ç–µ–ª–ª–∞: –î–∞... –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —É–¥–∞–µ—Ç—Å—è —É–≤–∏–¥–µ—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–µ, –∞ –Ω–µ –≥–æ–ª–æ–≥—Ä–∞–º–º—ã."
            },
            goodbye: "–°—Ç–µ–ª–ª–∞: –°–ø–∞—Å–∏–±–æ! –ë—ã–ª–æ –æ—á–µ–Ω—å –º–∏–ª–æ! –ü–æ–∫–∞!",
            bartenderGoodbye: "–ë–∞—Ä–º–µ–Ω: –†–∞–¥ –±—ã–ª —Ç–µ–±—è –≤–∏–¥–µ—Ç—å, –°—Ç–µ–ª–ª–∞! –ó–∞—Ö–æ–¥–∏ –µ—â—ë!",
            bartender_thoughts: {
                1: "–°—Ç–µ–ª–ª–∞... –ú–∏–ª–∞—è –¥–µ–≤—É—à–∫–∞, –≤—ã—Ä–æ—Å—à–∞—è –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º –º–∏—Ä–µ. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –≤–∏–¥–µ–ª–∞ –ª–∏ –æ–Ω–∞ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–ª–Ω—Ü–µ?",
                2: "–°—Ç–µ–ª–ª–∞ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å. –ï–µ —Ä–æ–¥–∏—Ç–µ–ª–∏... –ñ–∞–ª—å, —á—Ç–æ –æ–Ω–∏ –¥—É–º–∞–ª–∏, —á—Ç–æ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –¥–∞—Å—Ç –∏–º –ª—É—á—à—É—é –∂–∏–∑–Ω—å.",
                3: "–°—Ç–µ–ª–ª–∞ –∏—â–µ—Ç –∫—Ä–∞—Å–æ—Ç—É –≤ —ç—Ç–æ–º —Å–µ—Ä–æ–º –≥–æ—Ä–æ–¥–µ. –ï–µ –ø–æ—Ö–æ–¥—ã –Ω–∞ –∫—Ä—ã—à–∏ –∑–∞ –∑–≤–µ–∑–¥–∞–º–∏... —ç—Ç–æ —Ç—Ä–æ–≥–∞—Ç–µ–ª—å–Ω–æ."
            },
            bartender_wrong_thoughts: [
                "–°—Ç–µ–ª–ª–∞ —Å—Ç–∞—Ä–∞–ª–∞—Å—å –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ, –Ω–æ –±—ã–ª–æ –∑–∞–º–µ—Ç–Ω–æ...",
                "–ù–µ —Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ –¥–ª—è —Ç–∞–∫–æ–π –∂–∏–∑–Ω–µ—Ä–∞–¥–æ—Å—Ç–Ω–æ–π –¥–µ–≤—É—à–∫–∏, –∫–∞–∫ –°—Ç–µ–ª–ª–∞.",
                "–°—Ç–µ–ª–ª–∞ –∑–∞—Å–ª—É–∂–∏–≤–∞–ª–∞ –±–æ–ª–µ–µ –≤–µ—Å–µ–ª–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞. –ñ–∞–ª—å, —á—Ç–æ –Ω–µ —É–≥–∞–¥–∞–ª."
            ]
        }
    }
};

// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –∏ —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
const drinks = {
    "–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞", "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü"],
        preparation: "–õ—ë–¥",
        temperature: "—Ö–æ–ª–æ–¥–Ω—ã–π",
        type: "–∫—Ä–µ–ø–∫–∏–π",
        description: "–ó–∞—Ä—è–¥ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è —Å–º–µ–ª—ã—Ö –¥—É—à–æ–π"
    },
    "–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–°–∏—Ä–æ–ø", "–ñ–∏–¥–∫–∞—è –º—è—Ç–∞"],
        preparation: "–§–ª–∞–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
        temperature: "–≥–æ—Ä—è—á–∏–π",
        type: "—Å–ª–∞–¥–∫–∏–π",
        description: "–ù–µ–∂–Ω–∞—è —Å–ª–∞–¥–æ—Å—Ç—å —Å –æ–≥–Ω–µ–Ω–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º"
    },
    "–ü—É–Ω–∫—Ç–∏—Ä": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü", "–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞"],
        preparation: "–í–∑–±–æ–ª—Ç–∞—Ç—å",
        temperature: "–æ–±—ã—á–Ω—ã–π",
        type: "–æ—Å—Ç—Ä—ã–π",
        description: "–†–∏—Ç–º–∏—á–Ω—ã–π —Ç–∞–Ω–µ—Ü –≤–∫—É—Å–æ–≤ –Ω–∞ –≥—Ä–∞–Ω–∏"
    },
    "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ": {
        ingredients: ["–°–∏—Ä–æ–ø", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞", "–ñ–∏–¥–∫–∞—è –º—è—Ç–∞", "–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞"],
        preparation: "–õ—ë–¥",
        temperature: "—Ö–æ–ª–æ–¥–Ω—ã–π",
        type: "—Å–ª–∞–¥–∫–∏–π",
        description: "–ú–µ—á—Ç–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Å–ª–∞–¥–æ—Å—Ç–∏ –∏ –≥–æ—Ä–µ—á–∏"
    },
    "–ú–∞—Ä—Å": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü", "–°–∏—Ä–æ–ø", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞"],
        preparation: "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π",
        temperature: "–æ–±—ã—á–Ω—ã–π",
        type: "—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π",
        description: "–ì–∞—Ä–º–æ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç–µ–π –≤ –æ–¥–Ω–æ–º –±–æ–∫–∞–ª–µ"
    },
    "–ë—Ä–µ–Ω–¥–∏": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–≠–ª–∏–∫—Å–∏—Ä", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞"],
        preparation: "–õ—ë–¥",
        temperature: "—Ö–æ–ª–æ–¥–Ω—ã–π",
        type: "–æ—á–µ–Ω—å –∫—Ä–µ–ø–∫–∏–π",
        description: "–î–ª—è —Ç–µ—Ö, –∫—Ç–æ –Ω–µ –∏—â–µ—Ç –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤"
    },
    "–ì–æ—Ä—è—á–∏–π –±—Ä–µ–Ω–¥–∏": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–≠–ª–∏–∫—Å–∏—Ä", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞"],
        preparation: "–§–ª–∞–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
        temperature: "–≥–æ—Ä—è—á–∏–π",
        type: "–æ—á–µ–Ω—å –∫—Ä–µ–ø–∫–∏–π",
        description: "–°–æ–≥—Ä–µ–≤–∞—é—â–∏–π –∫—Ä–µ–ø–∫–∏–π –Ω–∞–ø–∏—Ç–æ–∫"
    },
    "–ù–µ–æ–Ω–æ–≤—ã–π –≤–∑—Ä—ã–≤": {
        ingredients: ["–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞", "–ñ–∏–¥–∫–∞—è –º—è—Ç–∞", "–°–∏—Ä–æ–ø", "–≠–ª–∏–∫—Å–∏—Ä"],
        preparation: "–õ—ë–¥",
        temperature: "—Ö–æ–ª–æ–¥–Ω—ã–π",
        type: "–æ—Å–≤–µ–∂–∞—é—â–∏–π",
        description: "–≠–Ω–µ—Ä–≥–∏—è –Ω–µ–æ–Ω–∞ –≤ –∫–∞–∂–¥–æ–º –≥–ª–æ—Ç–∫–µ"
    },
    "–ö–∏–±–µ—Ä-–∫–æ—Ñ–µ": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞", "–°–∏—Ä–æ–ø", "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü"],
        preparation: "–§–ª–∞–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
        temperature: "–≥–æ—Ä—è—á–∏–π",
        type: "–±–æ–¥—Ä—è—â–∏–π",
        description: "–£—Ç—Ä–µ–Ω–Ω–∏–π –∑–∞—Ä—è–¥ –¥–ª—è –∫–∏–±–µ—Ä-–≥–æ—Ä–æ–¥–∞"
    },
    "–ö–∏—Å–ª–æ—Ç–Ω—ã–π –¥–æ–∂–¥—å": {
        ingredients: ["–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü", "–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞", "–≠–ª–∏–∫—Å–∏—Ä"],
        preparation: "–í–∑–±–æ–ª—Ç–∞—Ç—å",
        temperature: "–æ–±—ã—á–Ω—ã–π",
        type: "–æ—Å—Ç—Ä—ã–π",
        description: "–í–∑—Ä—ã–≤ –≤–∫—É—Å–∞, –∫–∞–∫ –∫–∏—Å–ª–æ—Ç–Ω—ã–π –ª–∏–≤–µ–Ω—å"
    },
    "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä": {
        ingredients: ["–≠–ª–∏–∫—Å–∏—Ä", "–≠–ª–∏–∫—Å–∏—Ä", "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü", "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞"],
        preparation: "–§–ª–∞–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
        temperature: "–≥–æ—Ä—è—á–∏–π",
        type: "–æ—á–µ–Ω—å –æ—Å—Ç—Ä—ã–π",
        description: "–î–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Å–º–µ–ª—å—á–∞–∫–æ–≤"
    },
    "–°–ª–∞–¥–∫–∞—è –º–µ—á—Ç–∞": {
        ingredients: ["–°–∏—Ä–æ–ø", "–°–∏—Ä–æ–ø", "–≠–ª–∏–∫—Å–∏—Ä", "–ñ–∏–¥–∫–∞—è –º—è—Ç–∞"],
        preparation: "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π",
        temperature: "–æ–±—ã—á–Ω—ã–π",
        type: "–æ—á–µ–Ω—å —Å–ª–∞–¥–∫–∏–π",
        description: "–ú–µ—á—Ç–∞ —Å–ª–∞–¥–∫–æ–µ–∂–∫–∏"
    }
};

// –ù–∞–ø–∏—Ç–∫–∏ –ø–æ —Ç–∏–ø–∞–º –¥–ª—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
const drinksByType = {
    "–∫—Ä–µ–ø–∫–∏–π": ["–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω", "–ë—Ä–µ–Ω–¥–∏", "–ì–æ—Ä—è—á–∏–π –±—Ä–µ–Ω–¥–∏"],
    "—Å–ª–∞–¥–∫–∏–π": ["–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç", "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ", "–°–ª–∞–¥–∫–∞—è –º–µ—á—Ç–∞"],
    "–æ—Å—Ç—Ä—ã–π": ["–ü—É–Ω–∫—Ç–∏—Ä", "–ö–∏—Å–ª–æ—Ç–Ω—ã–π –¥–æ–∂–¥—å", "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä"],
    "–æ—Å–≤–µ–∂–∞—é—â–∏–π": ["–ù–µ–æ–Ω–æ–≤—ã–π –≤–∑—Ä—ã–≤", "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ"],
    "–±–æ–¥—Ä—è—â–∏–π": ["–ö–∏–±–µ—Ä-–∫–æ—Ñ–µ", "–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω"],
    "—Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µ": ["–ì–æ—Ä—è—á–∏–π –±—Ä–µ–Ω–¥–∏", "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä", "–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç", "–ö–∏–±–µ—Ä-–∫–æ—Ñ–µ"],
    "–≤–µ—Å–µ–ª—ã–π": ["–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ", "–ù–µ–æ–Ω–æ–≤—ã–π –≤–∑—Ä—ã–≤", "–°–ª–∞–¥–∫–∞—è –º–µ—á—Ç–∞"],
    "—Ö–æ–ª–æ–¥–Ω—ã–π": ["–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω", "–°–∞—Ö–∞—Ä–Ω–æ–µ –Ω–µ–±–æ", "–ù–µ–æ–Ω–æ–≤—ã–π –≤–∑—Ä—ã–≤", "–ë—Ä–µ–Ω–¥–∏"],
    "–≥–æ—Ä—è—á–∏–π": ["–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç", "–ì–æ—Ä—è—á–∏–π –±—Ä–µ–Ω–¥–∏", "–ö–∏–±–µ—Ä-–∫–æ—Ñ–µ", "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä"]
};

// –¢–∏–ø—ã –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
const orderTypesMapping = {
    "–∫—Ä–µ–ø–∫–æ–µ": "–∫—Ä–µ–ø–∫–∏–π",
    "–∫—Ä–µ–ø–∫–∏–π": "–∫—Ä–µ–ø–∫–∏–π", 
    "—Å–ª–∞–¥–∫–æ–µ": "—Å–ª–∞–¥–∫–∏–π",
    "—Å–ª–∞–¥–∫–∏–π": "—Å–ª–∞–¥–∫–∏–π",
    "–æ—Å—Ç—Ä–æ–µ": "–æ—Å—Ç—Ä—ã–π",
    "–æ—Å—Ç—Ä—ã–π": "–æ—Å—Ç—Ä—ã–π",
    "–æ—Å–≤–µ–∂–∞—é—â–µ–µ": "–æ—Å–≤–µ–∂–∞—é—â–∏–π",
    "–æ—Å–≤–µ–∂–∞—é—â–∏–π": "–æ—Å–≤–µ–∂–∞—é—â–∏–π",
    "–±–æ–¥—Ä—è—â–µ–µ": "–±–æ–¥—Ä—è—â–∏–π",
    "–±–æ–¥—Ä—è—â–∏–π": "–±–æ–¥—Ä—è—â–∏–π",
    "—Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µ": "—Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µ",
    "–≥–æ—Ä—è—á–µ–µ": "–≥–æ—Ä—è—á–∏–π",
    "—Ö–æ–ª–æ–¥–Ω–æ–µ": "—Ö–æ–ª–æ–¥–Ω—ã–π"
};

// –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
const ingredients = [
    { name: "–≠–ª–∏–∫—Å–∏—Ä", color: "#ffffff", description: "–î–µ–ª–∞–µ—Ç –Ω–∞–ø–∏—Ç–æ–∫ –∫—Ä–µ–ø–∫–∏–º" },
    { name: "–°–∏—Ä–æ–ø", color: "#ff6b9d", description: "–î–æ–±–∞–≤–ª—è–µ—Ç —Å–ª–∞–¥–æ—Å—Ç—å" },
    { name: "–î–µ—Ä–∑–∫–∞—è –Ω–∞—Å—Ç–æ–π–∫–∞", color: "#8b0000", description: "–î–∞–µ—Ç –≥–æ—Ä—å–∫–æ–≤–∞—Ç—ã–π –≤–∫—É—Å" },
    { name: "–ñ–∏–¥–∫–∏–π –ø–µ—Ä–µ—Ü", color: "#ff4500", description: "–î–æ–±–∞–≤–ª—è–µ—Ç –æ—Å—Ç—Ä–æ—Ç—É" },
    { name: "–ñ–∏–¥–∫–∞—è –º—è—Ç–∞", color: "#98fb98", description: "–û—Å–≤–µ–∂–∞–µ—Ç –∏ —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç" },
    { name: "–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞", color: "#00ff00", description: "–î–æ–±–∞–≤–ª—è–µ—Ç —ç–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç–∏" }
];

// –ú—ã—Å–ª–∏ –±–∞—Ä–º–µ–Ω–∞
const bartenderDayThoughts = {
    1: [
        "–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–π –Ω–µ–¥–µ–ª–∏... –í—Ä–µ–º—è –≤–ª–∏–≤–∞—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç—É.",
        "–ì–æ—Ä–æ–¥ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è, –∞ –∑–Ω–∞—á–∏—Ç —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –ø–µ—Ä–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã.",
        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —è —É—Å–ª—ã—à—É —Å–µ–≥–æ–¥–Ω—è..."
    ],
    2: [
        "–í—Ç–æ—Ä–æ–π –¥–µ–Ω—å —Ä–∞–±–æ—Ç—ã... –í—á–µ—Ä–∞ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.",
        "–ù–∞–¥–µ—é—Å—å, —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç —Ç–∞–∫–∏–º–∏ –∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏."
    ],
    3: [
        "–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏... –£–∂–µ —Å—Ç–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ.",
        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —è —É—Å–ª—ã—à—É —Å–µ–≥–æ–¥–Ω—è."
    ]
};

// –ò—Ç–æ–≥–∏ –¥–Ω—è
const dayResults = {
    perfect: [
        "–û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å! –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å –¥–æ–≤–æ–ª—å–Ω—ã.",
        "–°–µ–≥–æ–¥–Ω—è —è –±—ã–ª –≤ —É–¥–∞—Ä–µ - –Ω–∏ –æ–¥–Ω–æ–π –æ—à–∏–±–∫–∏!",
        "–ò–¥–µ–∞–ª—å–Ω–∞—è —Å–º–µ–Ω–∞. –ù–∞–¥–µ—é—Å—å, –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç —Ç–∞–∫ –∂–µ —Ö–æ—Ä–æ—à–æ."
    ],
    good: [
        "–ù–µ–ø–ª–æ—Ö–æ–π –¥–µ–Ω—å. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ —É—à–ª–∏ –¥–æ–≤–æ–ª—å–Ω—ã–º–∏.",
        "–°–µ–≥–æ–¥–Ω—è –±—ã–ª–∏ –Ω–µ–±–æ–ª—å—à–∏–µ –æ—à–∏–±–∫–∏, –Ω–æ –≤ —Ü–µ–ª–æ–º —Ö–æ—Ä–æ—à–æ.",
        "–ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–º–µ–Ω–∞. –ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø–ª–æ—Ö–æ–π."
    ],
    bad: [
        "–°–µ–≥–æ–¥–Ω—è –±—ã–ª –Ω–µ –º–æ–π –¥–µ–Ω—å... –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫.",
        "–ù—É–∂–Ω–æ –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ. –ú–Ω–æ–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã —É—à–ª–∏ –Ω–µ–¥–æ–≤–æ–ª—å–Ω—ã–º–∏.",
        "–ü–ª–æ—Ö–∞—è —Å–º–µ–Ω–∞. –ó–∞–≤—Ç—Ä–∞ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å—Å—è."
    ]
};

// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã
function startGame() {
    console.log("–ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã...");
    document.getElementById('start-screen').style.display = 'none';
    document.getElementById('tutorial-screen').style.display = 'block';
    initTutorial();
}

function initTutorial() {
    document.getElementById('tutorial-character-sprite').style.backgroundColor = "#4cc9f0";
    document.getElementById('tutorial-instructions').addEventListener('click', function() {
        this.classList.toggle('collapsed');
    });
    document.getElementById('tutorial-next-btn').addEventListener('click', startMainGame);
}

function startMainGame() {
    document.getElementById('tutorial-screen').style.display = 'none';
    document.getElementById('game-screen').style.display = 'block';
    initGame();
}

function initGame() {
    createIngredientsGrid();
    updateRecipesList();
    updateProgress();
    updateDayInfo();
    setupEventListeners();
    startDayIntro();
}

function setupEventListeners() {
    document.getElementById('next-dialog-btn').addEventListener('click', showCurrentDialog);
    document.getElementById('serve-btn').addEventListener('click', serveDrink);
    document.getElementById('clear-btn').addEventListener('click', clearDrink);
    document.getElementById('restart-btn').addEventListener('click', function() {
        location.reload();
    });
    
    document.querySelectorAll('.prep-action').forEach(btn => {
        btn.addEventListener('click', function() {
            const action = this.getAttribute('data-action');
            if (action === 'ice') addPreparation('–õ—ë–¥');
            if (action === 'flame') addPreparation('–§–ª–∞–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ');
            if (action === 'shake') addPreparation('–í–∑–±–æ–ª—Ç–∞—Ç—å');
        });
    });
    
    document.getElementById('instructions').addEventListener('click', function() {
        this.classList.toggle('collapsed');
    });
}

function startDayIntro() {
    currentCustomer = null;
    gameState = "bartender_intro";
    currentDialogStep = 0;
    dayCorrectDrinks = 0;
    usedCharactersToday = [];
    dayCustomers = [];
    
    showBartenderCharacter();
    currentDialogue = bartenderDayThoughts[currentDay] || bartenderDayThoughts[1];
    showCurrentDialog();
}

function showBartenderCharacter() {
    document.getElementById('character-sprite').style.backgroundColor = "#4cc9f0";
    document.getElementById('character-name').textContent = "–ë–∞—Ä–º–µ–Ω";
    document.getElementById('customer-satisfaction').textContent = "...";
    document.getElementById('customer-satisfaction').style.color = "#e6e6e6";
}

function showCurrentDialog() {
    const dialogText = document.getElementById('dialog-text');
    const thoughtsElement = document.getElementById('bartender-thoughts');
    const nextBtn = document.getElementById('next-dialog-btn');
    const satisfactionElement = document.getElementById('customer-satisfaction');
    
    if (currentDialogStep < currentDialogue.length) {
        if (gameState === "day_statistics") {
            dialogText.innerHTML = currentDialogue[currentDialogStep];
        } else {
            dialogText.textContent = currentDialogue[currentDialogStep];
        }
        currentDialogStep++;
        
        // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
        if (gameState === "day_results") {
            nextBtn.textContent = "–ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å";
        } else if (gameState === "day_statistics" && currentDay < TOTAL_DAYS) {
            nextBtn.textContent = "–ù–∞—á–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å";
        } else if (gameState === "day_statistics" && currentDay === TOTAL_DAYS) {
            nextBtn.textContent = "–î–∞–ª–µ–µ";
        } else {
            nextBtn.textContent = "–î–∞–ª–µ–µ ‚Üí";
        }
    } else {
        handleDialogComplete();
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç —Å–¥–µ–ª–∞–ª –µ–≥–æ
    if (gameState === "customer_order") {
        if (orderType === "specific") {
            const drink = drinks[currentOrder.drink];
            const tempSymbol = drink.temperature === "—Ö–æ–ª–æ–¥–Ω—ã–π" ? " ‚ùÑÔ∏è" : drink.temperature === "–≥–æ—Ä—è—á–∏–π" ? " üî•" : "";
            document.getElementById('current-order').textContent = `${currentOrder.drink} - ${drinks[currentOrder.drink].type}${tempSymbol}`;
            thoughtsElement.style.display = 'block';
            thoughtsElement.textContent = `–ö–ª–∏–µ–Ω—Ç —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Ö–æ—á–µ—Ç - ${currentOrder.drink}. ${customerState === "sad" ? "–í—ã–≥–ª—è–¥–∏—Ç –≥—Ä—É—Å—Ç–Ω—ã–º, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≠–ª–∏–∫—Å–∏—Ä –∏–ª–∏ –°–∏—Ä–æ–ø –ø–æ–¥–Ω–∏–º–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ." : customerState === "excited" ? "–í—ã–≥–ª—è–¥–∏—Ç –≤–∑–±—É–¥–æ—Ä–∞–∂–µ–Ω–Ω—ã–º, –æ—Å–≤–µ–∂–∞—é—â–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç —É—Å–ø–æ–∫–æ–∏—Ç—å—Å—è." : ""}`;
        } else {
            const possibleDrinks = drinksByType[currentOrder.drinkType] || [currentOrder.drink];
            const tempSymbol = drinks[currentOrder.drink].temperature === "—Ö–æ–ª–æ–¥–Ω—ã–π" ? " ‚ùÑÔ∏è" : drinks[currentOrder.drink].temperature === "–≥–æ—Ä—è—á–∏–π" ? " üî•" : "";
            document.getElementById('current-order').textContent = `–õ—é–±–æ–π ${currentOrder.drinkType} –Ω–∞–ø–∏—Ç–æ–∫${tempSymbol}`;
            thoughtsElement.style.display = 'block';
            thoughtsElement.textContent = `–ö–ª–∏–µ–Ω—Ç –Ω–µ —É–≤–µ—Ä–µ–Ω –≤ –≤—ã–±–æ—Ä–µ. –ü–æ–¥–æ–π–¥—É—Ç: ${possibleDrinks.join(', ')}. ${customerState === "sad" ? "–í—ã–≥–ª—è–¥–∏—Ç –≥—Ä—É—Å—Ç–Ω—ã–º, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≠–ª–∏–∫—Å–∏—Ä –∏–ª–∏ –°–∏—Ä–æ–ø –ø–æ–¥–Ω–∏–º–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ." : customerState === "excited" ? "–í—ã–≥–ª—è–¥–∏—Ç –≤–∑–±—É–¥–æ—Ä–∞–∂–µ–Ω–Ω—ã–º, –æ—Å–≤–µ–∂–∞—é—â–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç —É—Å–ø–æ–∫–æ–∏—Ç—å—Å—è." : ""}`;
        }
    } else {
        // –ü–æ–¥—Å–∫–∞–∑–∫–∞ –±–∞—Ä–º–µ–Ω–∞ –∏—Å—á–µ–∑–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥–∞—á–∏ –Ω–∞–ø–∏—Ç–∫–∞
        if (gameState !== "customer_welcome" && gameState !== "drink_served") {
            thoughtsElement.style.display = 'none';
        }
        if (gameState !== "customer_welcome" && gameState !== "drink_served") {
            document.getElementById('current-order').textContent = "–û–∂–∏–¥–∞–µ–º –∑–∞–∫–∞–∑...";
        }
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
    if (gameState === "drink_served" || gameState === "story" || gameState === "goodbye") {
        const result = checkRecipe();
        if (result.success) {
            if (result.special) {
                satisfactionElement.textContent = "‚ú® –í –≤–æ—Å—Ç–æ—Ä–≥–µ";
                satisfactionElement.style.color = "#9d4edd";
            } else {
                satisfactionElement.textContent = "‚úì –î–æ–≤–æ–ª–µ–Ω";
                satisfactionElement.style.color = "#4ade80";
            }
        } else {
            satisfactionElement.textContent = "‚úó –ù–µ–¥–æ–≤–æ–ª–µ–Ω";
            satisfactionElement.style.color = "#e94560";
        }
    } else if (gameState === "customer_welcome") {
        satisfactionElement.textContent = "‚è≥ –û–∂–∏–¥–∞–µ—Ç –Ω–∞–ø–∏—Ç–æ–∫";
        satisfactionElement.style.color = "#e6e6e6";
    } else {
        satisfactionElement.textContent = "...";
        satisfactionElement.style.color = "#e6e6e6";
    }
}

function handleDialogComplete() {
    const nextBtn = document.getElementById('next-dialog-btn');
    
    switch(gameState) {
        case "bartender_intro":
            nextCustomer();
            break;
        case "customer_greeting":
            gameState = "customer_order";
            orderType = Math.random() < 0.5 ? "specific" : "vague";
            if (orderType === "specific") {
                currentDialogue = [currentCustomer.dialogues.specificOrder.replace("[drink]", currentOrder.drink)];
            } else {
                currentDialogue = [currentCustomer.dialogues.vagueOrder];
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –Ω–∞–ø–∏—Ç–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É –∫–ª–∏–µ–Ω—Ç–∞
                const vagueOrderText = currentCustomer.dialogues.vagueOrder.toLowerCase();
                let foundType = "–∫—Ä–µ–ø–∫–∏–π"; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                
                for (const [key, value] of Object.entries(orderTypesMapping)) {
                    if (vagueOrderText.includes(key)) {
                        foundType = value;
                        break;
                    }
                }
                
                currentOrder.drinkType = foundType;
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∞
                const possibleDrinks = drinksByType[foundType];
                if (possibleDrinks && possibleDrinks.length > 0) {
                    currentOrder.drink = possibleDrinks[Math.floor(Math.random() * possibleDrinks.length)];
                }
            }
            currentDialogStep = 0;
            showCurrentDialog();
            break;
        case "customer_order":
            gameState = "customer_welcome";
            nextBtn.style.display = 'none';
            break;
        case "drink_served":
            const result = checkRecipe();
            lastDrinkSuccess = result.success;
            
            if (result.success) {
                gameState = "story";
                currentDialogue = [
                    currentCustomer.dialogues.stories[currentDay],
                    currentCustomer.dialogues.followUp[currentDay],
                    currentCustomer.dialogues.response[currentDay]
                ];
                storiesHeard++;
            } else {
                gameState = "goodbye";
                currentDialogue = [currentCustomer.dialogues.goodbye];
            }
            currentDialogStep = 0;
            showCurrentDialog();
            break;
        case "story":
            gameState = "goodbye";
            currentDialogue = [
                currentCustomer.dialogues.goodbye,
                currentCustomer.dialogues.bartenderGoodbye
            ];
            currentDialogStep = 0;
            showCurrentDialog();
            break;
        case "goodbye":
            gameState = "bartender_after_customer";
            currentDialogStep = 0;
            showBartenderCharacter();
            if (lastDrinkSuccess) {
                currentDialogue = [
                    currentCustomer.dialogues.bartender_thoughts[currentDay]
                ];
            } else {
                const wrongThoughts = currentCustomer.dialogues.bartender_wrong_thoughts || [
                    "–ù–µ–ª–æ–≤–∫–æ –≤—ã—à–ª–æ... –ù–∞–¥–µ—é—Å—å, –∫–ª–∏–µ–Ω—Ç –≤–µ—Ä–Ω—ë—Ç—Å—è.",
                    "–ñ–∞–ª—å, —á—Ç–æ –Ω–µ —É–≥–æ–¥–∏–ª... –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ª—É—á—à–µ.",
                    "–ù–µ —Å–∞–º—ã–π —É–¥–∞—á–Ω—ã–π –∑–∞–∫–∞–∑... –ù–∞–¥–æ –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∫ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º –∫–ª–∏–µ–Ω—Ç–æ–≤."
                ];
                currentDialogue = [wrongThoughts[Math.floor(Math.random() * wrongThoughts.length)]];
            }
            showCurrentDialog();
            break;
        case "bartender_after_customer":
            currentCustomerIndex++;
            if (currentCustomerIndex < CUSTOMERS_PER_DAY) {
                nextCustomer();
            } else {
                showDayResults();
            }
            break;
        case "day_results":
            showDayStatistics();
            break;
        case "day_statistics":
            currentDay++;
            currentCustomerIndex = 0;
            updateDayInfo();
            if (currentDay > TOTAL_DAYS) {
                showEnding();
            } else {
                startDayIntro();
            }
            break;
    }
}

function nextCustomer() {
    const availableCharacters = Object.keys(characters).filter(char => 
        !usedCharactersToday.includes(char)
    );
    
    if (availableCharacters.length === 0) {
        showDayResults();
        return;
    }

    const randomCharacter = availableCharacters[Math.floor(Math.random() * availableCharacters.length)];
    currentCustomer = characters[randomCharacter];
    usedCharactersToday.push(randomCharacter);
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
    customerState = Math.random() < 0.3 ? (Math.random() < 0.5 ? "sad" : "excited") : "normal";
    
    const orderedDrink = currentCustomer.dayDrinks[currentDay];
    currentOrder = {
        drink: orderedDrink,
        hint: drinks[orderedDrink].type
    };

    gameState = "customer_greeting";
    currentDialogStep = 0;
    drinkServed = false;
    
    document.getElementById('character-sprite').style.backgroundColor = currentCustomer.color;
    document.getElementById('character-name').textContent = currentCustomer.name;
    document.getElementById('customer-satisfaction').textContent = "...";
    currentDialogue = currentCustomer.dialogues.greeting;
    
    clearDrink();
    showCurrentDialog();
}

function showDayResults() {
    gameState = "day_results";
    currentDialogStep = 0;
    
    const successRate = (dayCorrectDrinks / CUSTOMERS_PER_DAY) * 100;
    let results;
    
    if (successRate === 100) {
        results = dayResults.perfect;
    } else if (successRate >= 50) {
        results = dayResults.good;
    } else {
        results = dayResults.bad;
    }
    
    showBartenderCharacter();
    currentDialogue = [
        "–ü–æ—Ö–æ–∂–µ, –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –±—É–¥–µ—Ç, –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–º–µ–Ω—É.",
        ...results
    ];
    
    showCurrentDialog();
}

function showDayStatistics() {
    gameState = "day_statistics";
    currentDialogStep = 0;
    
    let statsHTML = '<div class="day-stats">';
    statsHTML += '<h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å ' + currentDay + '</h3>';
    statsHTML += '<div class="day-stat-item">';
    statsHTML += '<strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤:</strong> ' + dayCorrectDrinks + ' –∏–∑ ' + CUSTOMERS_PER_DAY;
    statsHTML += '</div>';
    statsHTML += '<div class="day-stat-item">';
    statsHTML += '<strong>–°–æ–±—Ä–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π:</strong> ' + dayCustomers.filter(c => c.storyHeard).length + ' –∏–∑ ' + dayCustomers.length;
    statsHTML += '</div>';
    statsHTML += '<div class="day-stat-item">';
    statsHTML += '<strong>–û–±—Å–ª—É–∂–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç–æ–≤:</strong>';
    
    dayCustomers.forEach(customer => {
        let statusClass = 'status-wrong';
        let statusText = '‚úó –û—à–∏–±–∫–∞';
        
        if (customer.status === 'correct') {
            statusClass = 'status-correct';
            statusText = '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ';
        } else if (customer.status === 'special') {
            statusClass = 'status-special';
            statusText = '‚ú® –ò–¥–µ–∞–ª—å–Ω–æ';
        }
        
        statsHTML += '<div class="day-stat-customer">';
        statsHTML += '<span>' + customer.name + '</span>';
        statsHTML += '<span class="customer-status ' + statusClass + '">' + statusText + '</span>';
        statsHTML += '</div>';
    });
    
    statsHTML += '</div></div>';
    
    showBartenderCharacter();
    currentDialogue = [statsHTML];
    showCurrentDialog();
}

function createIngredientsGrid() {
    const grid = document.getElementById('ingredients-grid');
    grid.innerHTML = '';
    
    ingredients.forEach(ingredient => {
        const div = document.createElement('div');
        div.className = 'ingredient';
        div.setAttribute('data-color', ingredient.color);
        div.innerHTML = `
            <div class="ingredient-name">${ingredient.name}</div>
            <div class="ingredient-desc">${ingredient.description}</div>
        `;
        div.addEventListener('click', () => addIngredient(ingredient));
        grid.appendChild(div);
    });
}

function addIngredient(ingredient) {
    if (drinkServed || currentDrink.length >= MAX_INGREDIENTS) return;
    
    currentDrink.push(ingredient.name);
    updateDrinkVisual();
    updateCurrentComposition();
}

function addPreparation(prep) {
    if (drinkServed) return;
    
    currentPreparation = prep;
    updateCurrentComposition();
}

function updateDrinkVisual() {
    const glass = document.getElementById('drink-glass');
    glass.innerHTML = '';
    
    if (currentDrink.length === 0) {
        glass.innerHTML = '<div style="color: #666; text-align: center;">–ë–æ–∫–∞–ª –ø—É—Å—Ç</div>';
        return;
    }
    
    currentDrink.forEach((ingredient, index) => {
        const ing = ingredients.find(i => i.name === ingredient);
        if (ing) {
            const layer = document.createElement('div');
            layer.className = 'liquid-layer';
            layer.style.backgroundColor = ing.color;
            layer.style.height = `${80 / currentDrink.length}px`;
            layer.style.opacity = (1 - index * 0.1).toString();
            glass.appendChild(layer);
        }
    });
}

function updateCurrentComposition() {
    const compositionElement = document.getElementById('current-composition');
    let composition = "–°–æ—Å—Ç–∞–≤: ";
    
    if (currentDrink.length > 0) {
        composition += currentDrink.join(' + ');
        if (currentPreparation !== "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π") {
            composition += ` ‚Üí ${currentPreparation}`;
        }
    } else {
        composition += "–ø—É—Å—Ç–æ";
    }
    
    compositionElement.textContent = composition;
}

function clearDrink() {
    currentDrink = [];
    currentPreparation = "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π";
    updateDrinkVisual();
    updateCurrentComposition();
}

function serveDrink() {
    if (currentDrink.length === 0 || drinkServed) return;

    const result = checkRecipe();
    
    drinkServed = true;
    
    // –û—á–∏—â–∞–µ–º –±–æ–∫–∞–ª –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–º–æ–¥–∑–∏
    const glass = document.getElementById('drink-glass');
    glass.innerHTML = '<div class="glass-icon">üç∏</div>';
    
    // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –±–∞—Ä–º–µ–Ω–∞ –ø–æ—Å–ª–µ –ø–æ–¥–∞—á–∏ –Ω–∞–ø–∏—Ç–∫–∞
    document.getElementById('bartender-thoughts').style.display = 'none';
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ –¥–Ω—è
    dayCustomers.push({
        name: currentCustomer.name,
        status: result.special ? 'special' : result.success ? 'correct' : 'wrong',
        storyHeard: result.success
    });
    
    if (result.success) {
        correctDrinks++;
        dayCorrectDrinks++;
        if (result.special) {
            specialDrinks++;
            currentDialogue = [currentCustomer.dialogues.special[Math.floor(Math.random() * currentCustomer.dialogues.special.length)]];
        } else {
            currentDialogue = [currentCustomer.dialogues.correct[Math.floor(Math.random() * currentCustomer.dialogues.correct.length)]];
        }
    } else {
        currentDialogue = [currentCustomer.dialogues.wrong[Math.floor(Math.random() * currentCustomer.dialogues.wrong.length)]];
    }
    
    gameState = "drink_served";
    currentDialogStep = 0;
    document.getElementById('next-dialog-btn').style.display = 'block';
    showCurrentDialog();
    updateProgress();
}

function checkRecipe() {
    const targetDrink = drinks[currentOrder.drink];
    const targetIngredients = targetDrink.ingredients;
    
    // –î–ª—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª—é–±–æ–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫
    if (orderType === "vague") {
        const possibleDrinks = drinksByType[currentOrder.drinkType] || [currentOrder.drink];
        let success = false;
        let special = false;
        
        for (const drinkName of possibleDrinks) {
            const drink = drinks[drinkName];
            const currentDrinkCopy = [...currentDrink];
            const hasAllIngredients = drink.ingredients.every(ingredient => {
                const index = currentDrinkCopy.indexOf(ingredient);
                if (index > -1) {
                    currentDrinkCopy.splice(index, 1);
                    return true;
                }
                return false;
            });
            
            const preparationMatch = currentPreparation === drink.preparation;
            
            if (hasAllIngredients && preparationMatch) {
                success = true;
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å –æ—Å–æ–±–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                const hasSpecialIngredient = checkSpecialIngredient();
                special = hasSpecialIngredient && (customerState === "sad" || customerState === "excited");
                break;
            }
        }
        
        return { success: success, special: special };
    }
    
    // –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ—á–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç
    const currentDrinkCopy = [...currentDrink];
    const hasAllIngredients = targetIngredients.every(ingredient => {
        const index = currentDrinkCopy.indexOf(ingredient);
        if (index > -1) {
            currentDrinkCopy.splice(index, 1);
            return true;
        }
        return false;
    });
    
    const preparationMatch = currentPreparation === targetDrink.preparation;
    const success = hasAllIngredients && preparationMatch;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å –æ—Å–æ–±–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    const hasSpecialIngredient = checkSpecialIngredient();
    const special = success && hasSpecialIngredient && (customerState === "sad" || customerState === "excited");
    
    return { 
        success: success,
        special: special
    };
}

function checkSpecialIngredient() {
    if (customerState === "sad") {
        return currentDrink.includes("–≠–ª–∏–∫—Å–∏—Ä") || currentDrink.includes("–°–∏—Ä–æ–ø");
    } else if (customerState === "excited") {
        return currentDrink.includes("–ñ–∏–¥–∫–∞—è –º—è—Ç–∞") || currentDrink.includes("–°–∏—è—é—â–∞—è —à–∏–ø—É—á–∫–∞");
    }
    return false;
}

function updateRecipesList() {
    const recipesList = document.getElementById('recipes-list');
    recipesList.innerHTML = '';
    
    Object.entries(drinks).forEach(([name, info]) => {
        const recipeDiv = document.createElement('div');
        recipeDiv.className = 'drink-recipe';
        const prepText = info.preparation !== "–ù–æ—Ä–º–∞–ª—å–Ω—ã–π" ? ` ‚Üí ${info.preparation}` : '';
        const tempSymbol = info.temperature === "—Ö–æ–ª–æ–¥–Ω—ã–π" ? " ‚ùÑÔ∏è" : info.temperature === "–≥–æ—Ä—è—á–∏–π" ? " üî•" : "";
        recipeDiv.innerHTML = `
            <strong>${name}</strong>: ${info.ingredients.join(' + ')}${prepText}
            <div class="drink-description">${info.type} - ${info.description}${tempSymbol}</div>
        `;
        recipesList.appendChild(recipeDiv);
    });
}

function updateDayInfo() {
    document.getElementById('day-info').textContent = `–î–µ–Ω—å ${currentDay} –∏–∑ ${TOTAL_DAYS}`;
}

function updateProgress() {
    const totalStories = TOTAL_DAYS * CUSTOMERS_PER_DAY;
    document.getElementById('story-progress').textContent = 
        `–î–µ–Ω—å: ${currentDay}/${TOTAL_DAYS} | –ö–ª–∏–µ–Ω—Ç—ã: ${currentCustomerIndex}/${CUSTOMERS_PER_DAY} | –ò—Å—Ç–æ—Ä–∏–π: ${storiesHeard}/${totalStories}`;
}

function showEnding() {
    document.getElementById('game-screen').style.display = 'none';
    document.getElementById('end-screen').style.display = 'flex';
    
    const totalCustomers = TOTAL_DAYS * CUSTOMERS_PER_DAY;
    const successRate = (correctDrinks / totalCustomers) * 100;
    document.getElementById('ending-stats').textContent = 
        `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: ${correctDrinks}/${totalCustomers} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ (${successRate.toFixed(0)}%) | ${storiesHeard}/${totalCustomers} –∏—Å—Ç–æ—Ä–∏–π | ${specialDrinks} —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π`;
    
    if (specialDrinks === totalCustomers && storiesHeard === totalCustomers) {
        document.getElementById('ending-title').textContent = "–õ–ï–ì–ï–ù–î–ê–†–ù–´–ô –ë–ê–†–ú–ï–ù";
        document.getElementById('ending-text').textContent = "–í—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ –≤—Å–µ –Ω–∞–ø–∏—Ç–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –≤—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –¥—É—à–∏ —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –±—ã–ª –∏–¥–µ–∞–ª—å–Ω—ã–º –∂–µ—Å—Ç–æ–º –∑–∞–±–æ—Ç—ã. –í—ã —É—Å–ª—ã—à–∞–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ø–æ–º–æ–≥–ª–∏ –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É. –í–∞—à –±–∞—Ä —Å—Ç–∞–ª –ª–µ–≥–µ–Ω–¥–æ–π –≥–æ—Ä–æ–¥–∞!";
    } else if (successRate === 100 && storiesHeard === totalCustomers) {
        document.getElementById('ending-title').textContent = "–ú–ê–°–¢–ï–† –°–í–û–ï–ì–û –î–ï–õ–ê";
        document.getElementById('ending-text').textContent = "–ò–¥–µ–∞–ª—å–Ω–∞—è –Ω–µ–¥–µ–ª—è! –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∏–ª–∏ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –∑–∞–∫–∞–∑—ã–≤–∞–ª–∏ –∏ —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏ –≤—Å–µ —Å–≤–æ–∏ –∏—Å—Ç–æ—Ä–∏–∏. –í–∞—à –±–∞—Ä —Å–ª–∞–≤–∏—Ç—Å—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º. –í—ã –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç–µ—Å—å –Ω–∞—Å—Ç–æ—è—â–∏–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–º!";
    } else if (successRate >= 50) {
        document.getElementById('ending-title').textContent = "–ù–ê–î–ï–ñ–ù–´–ô –ë–ê–†–ú–ï–ù";
        document.getElementById('ending-text').textContent = "–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞! –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ—Å—Ç–∞–ª–∏—Å—å –¥–æ–≤–æ–ª—å–Ω—ã. –ö–æ–µ-–≥–¥–µ –±—ã–ª–∏ –Ω–µ–±–æ–ª—å—à–∏–µ –æ—à–∏–±–∫–∏, –Ω–æ –≤ —Ü–µ–ª–æ–º –≤—ã —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å —Ö–æ—Ä–æ—à–æ. –ë–∞—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∫–ª–∏–µ–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è.";
    } else {
        document.getElementById('ending-title').textContent = "–ù–û–í–ò–ß–û–ö";
        document.getElementById('ending-text').textContent = "–≠—Ç–∞ –Ω–µ–¥–µ–ª—è –±—ã–ª–∞ –Ω–µ —Å–∞–º–æ–π —É–¥–∞—á–Ω–æ–π... –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ –≤ –∑–∞–∫–∞–∑–∞—Ö. –ö–ª–∏–µ–Ω—Ç—ã —É—Ö–æ–¥–∏–ª–∏ –Ω–µ–¥–æ–≤–æ–ª—å–Ω—ã–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –∏ –±–æ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è. –ö–∞–∂–¥—ã–π –º–∞—Å—Ç–µ—Ä –∫–æ–≥–¥–∞-—Ç–æ –Ω–∞—á–∏–Ω–∞–ª - –Ω–µ —Å–¥–∞–≤–∞–π—Ç–µ—Å—å!";
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('start-btn').addEventListener('click', startGame);
});